import type { Request } from 'express';
import { PrismaService } from '../prisma/prisma.service';
import { CreateCustomerDto } from './dto/create-customer.dto';
import { CreateCustomerInvoiceDto } from './dto/create-customer-invoice.dto';
export declare class ArService {
    private readonly prisma;
    constructor(prisma: PrismaService);
    private round2;
    createCustomer(req: Request, dto: CreateCustomerDto): Promise<any>;
    listCustomers(req: Request): Promise<any>;
    listEligibleAccounts(req: Request): Promise<{
        [x: string]: {
            id: string;
            description: string;
            accountId: string;
            amount: import("@prisma/client/runtime/library").Decimal;
            supplierInvoiceId: string;
        }[] | {
            id: string;
            description: string | null;
            accountId: string;
            lineNumber: number | null;
            debit: import("@prisma/client/runtime/library").Decimal;
            credit: import("@prisma/client/runtime/library").Decimal;
            legalEntityId: string | null;
            departmentId: string | null;
            projectId: string | null;
            fundId: string | null;
            journalEntryId: string;
        }[] | ({
            id: string;
            name: string;
            organisationName: string;
            organisationShortName: string | null;
            logoUrl: string | null;
            primaryColor: string;
            secondaryColor: string | null;
            legalName: string | null;
            defaultCurrency: string | null;
            country: string | null;
            timezone: string | null;
            financialYearStartMonth: number | null;
            dateFormat: string | null;
            numberFormat: string | null;
            defaultLandingPage: string | null;
            defaultDashboard: string | null;
            defaultLanguage: string | null;
            demoModeEnabled: boolean | null;
            defaultUserRoleCode: string | null;
            faviconUrl: string | null;
            accentColor: string | null;
            secondaryAccentColor: string | null;
            allowSelfPosting: boolean;
            receiptBankName: string | null;
            receiptBankAccountName: string | null;
            receiptBankAccountNumber: string | null;
            receiptBankBranch: string | null;
            receiptBankSwiftCode: string | null;
            requiresDepartmentOnInvoices: boolean;
            requiresProjectOnInvoices: boolean;
            requiresFundOnInvoices: boolean;
            arControlAccountId: string | null;
            defaultBankClearingAccountId: string | null;
            unappliedReceiptsAccountId: string | null;
            coaFrozen: boolean;
            coaLockedAt: Date | null;
            status: import("@prisma/client").$Enums.TenantStatus;
            createdAt: Date;
            updatedAt: Date;
        } | {
            id: string;
            name: string;
            organisationName: string;
            organisationShortName: string | null;
            logoUrl: string | null;
            primaryColor: string;
            secondaryColor: string | null;
            legalName: string | null;
            defaultCurrency: string | null;
            country: string | null;
            timezone: string | null;
            financialYearStartMonth: number | null;
            dateFormat: string | null;
            numberFormat: string | null;
            defaultLandingPage: string | null;
            defaultDashboard: string | null;
            defaultLanguage: string | null;
            demoModeEnabled: boolean | null;
            defaultUserRoleCode: string | null;
            faviconUrl: string | null;
            accentColor: string | null;
            secondaryAccentColor: string | null;
            allowSelfPosting: boolean;
            receiptBankName: string | null;
            receiptBankAccountName: string | null;
            receiptBankAccountNumber: string | null;
            receiptBankBranch: string | null;
            receiptBankSwiftCode: string | null;
            requiresDepartmentOnInvoices: boolean;
            requiresProjectOnInvoices: boolean;
            requiresFundOnInvoices: boolean;
            arControlAccountId: string | null;
            defaultBankClearingAccountId: string | null;
            unappliedReceiptsAccountId: string | null;
            coaFrozen: boolean;
            coaLockedAt: Date | null;
            status: import("@prisma/client").$Enums.TenantStatus;
            createdAt: Date;
            updatedAt: Date;
        })[] | ({
            id: string;
            tenantId: string;
            name: string;
            createdAt: Date;
            updatedAt: Date;
            code: string;
            isActive: boolean;
            type: import("@prisma/client").$Enums.AccountType;
            subCategory: string | null;
            fsMappingLevel1: string | null;
            fsMappingLevel2: string | null;
            isCashEquivalent: boolean;
            requiresDepartment: boolean;
            requiresProject: boolean;
            requiresFund: boolean;
            isBudgetRelevant: boolean;
            budgetControlMode: import("@prisma/client").$Enums.BudgetControlMode;
            parentAccountId: string | null;
            isPosting: boolean;
            isPostingAllowed: boolean;
            isControlAccount: boolean;
            normalBalance: import("@prisma/client").$Enums.NormalBalance;
            hierarchyPath: string | null;
            isFrozen: boolean;
            ifrsMappingCode: string | null;
            createdById: string | null;
        } | {
            id: string;
            tenantId: string;
            name: string;
            createdAt: Date;
            updatedAt: Date;
            code: string;
            isActive: boolean;
            type: import("@prisma/client").$Enums.AccountType;
            subCategory: string | null;
            fsMappingLevel1: string | null;
            fsMappingLevel2: string | null;
            isCashEquivalent: boolean;
            requiresDepartment: boolean;
            requiresProject: boolean;
            requiresFund: boolean;
            isBudgetRelevant: boolean;
            budgetControlMode: import("@prisma/client").$Enums.BudgetControlMode;
            parentAccountId: string | null;
            isPosting: boolean;
            isPostingAllowed: boolean;
            isControlAccount: boolean;
            normalBalance: import("@prisma/client").$Enums.NormalBalance;
            hierarchyPath: string | null;
            isFrozen: boolean;
            ifrsMappingCode: string | null;
            createdById: string | null;
        })[] | ({
            id: string;
            tenantId: string;
            name: string;
            status: import("@prisma/client").$Enums.FixedAssetStatus;
            createdAt: Date;
            description: string | null;
            createdById: string;
            categoryId: string;
            acquisitionDate: Date;
            capitalizationDate: Date | null;
            cost: import("@prisma/client/runtime/library").Decimal;
            residualValue: import("@prisma/client/runtime/library").Decimal;
            usefulLifeMonths: number;
            method: import("@prisma/client").$Enums.DepreciationMethod;
            assetAccountId: string | null;
            accumDepAccountId: string | null;
            depExpenseAccountId: string | null;
            vendorId: string | null;
            apInvoiceId: string | null;
            capitalizationJournalId: string | null;
            disposalJournalId: string | null;
        } | {
            id: string;
            tenantId: string;
            name: string;
            status: import("@prisma/client").$Enums.FixedAssetStatus;
            createdAt: Date;
            description: string | null;
            createdById: string;
            categoryId: string;
            acquisitionDate: Date;
            capitalizationDate: Date | null;
            cost: import("@prisma/client/runtime/library").Decimal;
            residualValue: import("@prisma/client/runtime/library").Decimal;
            usefulLifeMonths: number;
            method: import("@prisma/client").$Enums.DepreciationMethod;
            assetAccountId: string | null;
            accumDepAccountId: string | null;
            depExpenseAccountId: string | null;
            vendorId: string | null;
            apInvoiceId: string | null;
            capitalizationJournalId: string | null;
            disposalJournalId: string | null;
        })[] | ({
            id: string;
            description: string;
            accountId: string;
            amount: import("@prisma/client/runtime/library").Decimal;
            supplierInvoiceId: string;
        } | {
            id: string;
            description: string;
            accountId: string;
            amount: import("@prisma/client/runtime/library").Decimal;
            supplierInvoiceId: string;
        })[] | ({
            id: string;
            tenantId: string;
            name: string;
            createdAt: Date;
            isActive: boolean;
            type: import("@prisma/client").$Enums.TaxRateType;
            rate: import("@prisma/client/runtime/library").Decimal;
            glAccountId: string;
        } | {
            id: string;
            tenantId: string;
            name: string;
            createdAt: Date;
            isActive: boolean;
            type: import("@prisma/client").$Enums.TaxRateType;
            rate: import("@prisma/client/runtime/library").Decimal;
            glAccountId: string;
        })[] | ({
            id: string;
            description: string | null;
            accountId: string;
            lineNumber: number | null;
            debit: import("@prisma/client/runtime/library").Decimal;
            credit: import("@prisma/client/runtime/library").Decimal;
            legalEntityId: string | null;
            departmentId: string | null;
            projectId: string | null;
            fundId: string | null;
            journalEntryId: string;
        } | {
            id: string;
            description: string | null;
            accountId: string;
            lineNumber: number | null;
            debit: import("@prisma/client/runtime/library").Decimal;
            credit: import("@prisma/client/runtime/library").Decimal;
            legalEntityId: string | null;
            departmentId: string | null;
            projectId: string | null;
            fundId: string | null;
            journalEntryId: string;
        })[] | ({
            id: string;
            description: string;
            accountId: string;
            departmentId: string | null;
            projectId: string | null;
            fundId: string | null;
            customerInvoiceId: string;
            quantity: import("@prisma/client/runtime/library").Decimal;
            unitPrice: import("@prisma/client/runtime/library").Decimal;
            discountPercent: import("@prisma/client/runtime/library").Decimal | null;
            discountAmount: import("@prisma/client/runtime/library").Decimal | null;
            discountTotal: import("@prisma/client/runtime/library").Decimal;
            lineTotal: import("@prisma/client/runtime/library").Decimal;
        } | {
            id: string;
            description: string;
            accountId: string;
            departmentId: string | null;
            projectId: string | null;
            fundId: string | null;
            customerInvoiceId: string;
            quantity: import("@prisma/client/runtime/library").Decimal;
            unitPrice: import("@prisma/client/runtime/library").Decimal;
            discountPercent: import("@prisma/client/runtime/library").Decimal | null;
            discountAmount: import("@prisma/client/runtime/library").Decimal | null;
            discountTotal: import("@prisma/client/runtime/library").Decimal;
            lineTotal: import("@prisma/client/runtime/library").Decimal;
        })[] | ({
            id: string;
            tenantId: string;
            name: string;
            createdAt: Date;
            isActive: boolean;
            glAccountId: string;
            bankName: string;
            accountNumber: string;
            currency: string;
        } | {
            id: string;
            tenantId: string;
            name: string;
            createdAt: Date;
            isActive: boolean;
            glAccountId: string;
            bankName: string;
            accountNumber: string;
            currency: string;
        })[] | ({
            id: string;
            tenantId: string;
            name: string;
            createdAt: Date;
            code: string;
            assetAccountId: string;
            accumDepAccountId: string;
            depExpenseAccountId: string;
            defaultMethod: import("@prisma/client").$Enums.DepreciationMethod;
            defaultUsefulLifeMonths: number;
            defaultResidualRate: import("@prisma/client/runtime/library").Decimal | null;
        } | {
            id: string;
            tenantId: string;
            name: string;
            createdAt: Date;
            code: string;
            assetAccountId: string;
            accumDepAccountId: string;
            depExpenseAccountId: string;
            defaultMethod: import("@prisma/client").$Enums.DepreciationMethod;
            defaultUsefulLifeMonths: number;
            defaultResidualRate: import("@prisma/client/runtime/library").Decimal | null;
        })[] | ({
            id: string;
            tenantId: string;
            createdAt: Date;
            accountId: string;
            amount: import("@prisma/client/runtime/library").Decimal;
            periodId: string;
            legalEntityId: string | null;
            departmentId: string | null;
            projectId: string | null;
            fundId: string | null;
            budgetId: string;
            revisionId: string;
        } | {
            id: string;
            tenantId: string;
            createdAt: Date;
            accountId: string;
            amount: import("@prisma/client/runtime/library").Decimal;
            periodId: string;
            legalEntityId: string | null;
            departmentId: string | null;
            projectId: string | null;
            fundId: string | null;
            budgetId: string;
            revisionId: string;
        })[] | ({
            id: string;
            forecastVersionId: string;
            accountId: string;
            amount: import("@prisma/client/runtime/library").Decimal;
            month: number;
        } | {
            id: string;
            forecastVersionId: string;
            accountId: string;
            amount: import("@prisma/client/runtime/library").Decimal;
            month: number;
        })[] | ({
            id: string;
            accountId: string;
            templateId: string;
            descriptionTemplate: string | null;
            debitAmount: import("@prisma/client/runtime/library").Decimal;
            creditAmount: import("@prisma/client/runtime/library").Decimal;
            lineOrder: number;
        } | {
            id: string;
            accountId: string;
            templateId: string;
            descriptionTemplate: string | null;
            debitAmount: import("@prisma/client/runtime/library").Decimal;
            creditAmount: import("@prisma/client/runtime/library").Decimal;
            lineOrder: number;
        })[] | {
            id: string;
            name: string;
            organisationName: string;
            organisationShortName: string | null;
            logoUrl: string | null;
            primaryColor: string;
            secondaryColor: string | null;
            legalName: string | null;
            defaultCurrency: string | null;
            country: string | null;
            timezone: string | null;
            financialYearStartMonth: number | null;
            dateFormat: string | null;
            numberFormat: string | null;
            defaultLandingPage: string | null;
            defaultDashboard: string | null;
            defaultLanguage: string | null;
            demoModeEnabled: boolean | null;
            defaultUserRoleCode: string | null;
            faviconUrl: string | null;
            accentColor: string | null;
            secondaryAccentColor: string | null;
            allowSelfPosting: boolean;
            receiptBankName: string | null;
            receiptBankAccountName: string | null;
            receiptBankAccountNumber: string | null;
            receiptBankBranch: string | null;
            receiptBankSwiftCode: string | null;
            requiresDepartmentOnInvoices: boolean;
            requiresProjectOnInvoices: boolean;
            requiresFundOnInvoices: boolean;
            arControlAccountId: string | null;
            defaultBankClearingAccountId: string | null;
            unappliedReceiptsAccountId: string | null;
            coaFrozen: boolean;
            coaLockedAt: Date | null;
            status: import("@prisma/client").$Enums.TenantStatus;
            createdAt: Date;
            updatedAt: Date;
        }[] | {
            id: string;
            tenantId: string;
            name: string;
            createdAt: Date;
            updatedAt: Date;
            code: string;
            isActive: boolean;
            type: import("@prisma/client").$Enums.AccountType;
            subCategory: string | null;
            fsMappingLevel1: string | null;
            fsMappingLevel2: string | null;
            isCashEquivalent: boolean;
            requiresDepartment: boolean;
            requiresProject: boolean;
            requiresFund: boolean;
            isBudgetRelevant: boolean;
            budgetControlMode: import("@prisma/client").$Enums.BudgetControlMode;
            parentAccountId: string | null;
            isPosting: boolean;
            isPostingAllowed: boolean;
            isControlAccount: boolean;
            normalBalance: import("@prisma/client").$Enums.NormalBalance;
            hierarchyPath: string | null;
            isFrozen: boolean;
            ifrsMappingCode: string | null;
            createdById: string | null;
        }[] | {
            id: string;
            tenantId: string;
            name: string;
            status: import("@prisma/client").$Enums.FixedAssetStatus;
            createdAt: Date;
            description: string | null;
            createdById: string;
            categoryId: string;
            acquisitionDate: Date;
            capitalizationDate: Date | null;
            cost: import("@prisma/client/runtime/library").Decimal;
            residualValue: import("@prisma/client/runtime/library").Decimal;
            usefulLifeMonths: number;
            method: import("@prisma/client").$Enums.DepreciationMethod;
            assetAccountId: string | null;
            accumDepAccountId: string | null;
            depExpenseAccountId: string | null;
            vendorId: string | null;
            apInvoiceId: string | null;
            capitalizationJournalId: string | null;
            disposalJournalId: string | null;
        }[] | {
            id: string;
            tenantId: string;
            name: string;
            createdAt: Date;
            isActive: boolean;
            type: import("@prisma/client").$Enums.TaxRateType;
            rate: import("@prisma/client/runtime/library").Decimal;
            glAccountId: string;
        }[] | {
            id: string;
            description: string;
            accountId: string;
            departmentId: string | null;
            projectId: string | null;
            fundId: string | null;
            customerInvoiceId: string;
            quantity: import("@prisma/client/runtime/library").Decimal;
            unitPrice: import("@prisma/client/runtime/library").Decimal;
            discountPercent: import("@prisma/client/runtime/library").Decimal | null;
            discountAmount: import("@prisma/client/runtime/library").Decimal | null;
            discountTotal: import("@prisma/client/runtime/library").Decimal;
            lineTotal: import("@prisma/client/runtime/library").Decimal;
        }[] | {
            id: string;
            tenantId: string;
            name: string;
            createdAt: Date;
            isActive: boolean;
            glAccountId: string;
            bankName: string;
            accountNumber: string;
            currency: string;
        }[] | {
            id: string;
            tenantId: string;
            name: string;
            createdAt: Date;
            code: string;
            assetAccountId: string;
            accumDepAccountId: string;
            depExpenseAccountId: string;
            defaultMethod: import("@prisma/client").$Enums.DepreciationMethod;
            defaultUsefulLifeMonths: number;
            defaultResidualRate: import("@prisma/client/runtime/library").Decimal | null;
        }[] | {
            id: string;
            tenantId: string;
            createdAt: Date;
            accountId: string;
            amount: import("@prisma/client/runtime/library").Decimal;
            periodId: string;
            legalEntityId: string | null;
            departmentId: string | null;
            projectId: string | null;
            fundId: string | null;
            budgetId: string;
            revisionId: string;
        }[] | {
            id: string;
            forecastVersionId: string;
            accountId: string;
            amount: import("@prisma/client/runtime/library").Decimal;
            month: number;
        }[] | {
            id: string;
            accountId: string;
            templateId: string;
            descriptionTemplate: string | null;
            debitAmount: import("@prisma/client/runtime/library").Decimal;
            creditAmount: import("@prisma/client/runtime/library").Decimal;
            lineOrder: number;
        }[];
        [x: number]: never;
        [x: symbol]: never;
    }[]>;
    createInvoice(req: Request, dto: CreateCustomerInvoiceDto): Promise<{
        id: string;
        tenantId: string;
        status: import("@prisma/client").$Enums.CustomerInvoiceStatus;
        createdAt: Date;
        taxAmount: import("@prisma/client/runtime/library").Decimal;
        invoiceNumber: string;
        invoiceDate: Date;
        dueDate: Date;
        totalAmount: import("@prisma/client/runtime/library").Decimal;
        createdById: string;
        postedAt: Date | null;
        postedById: string | null;
        reference: string | null;
        customerId: string;
        currency: string;
        exchangeRate: import("@prisma/client/runtime/library").Decimal;
        invoiceNote: string | null;
        customerNameSnapshot: string;
        customerEmailSnapshot: string | null;
        customerBillingAddressSnapshot: string | null;
        subtotal: import("@prisma/client/runtime/library").Decimal;
    }>;
    postInvoice(req: Request, id: string, opts?: {
        arControlAccountCode?: string;
    }): Promise<{
        invoice: {
            customer: {
                id: string;
                tenantId: string;
                email: string | null;
                name: string;
                status: import("@prisma/client").$Enums.CustomerStatus;
                createdAt: Date;
                updatedAt: Date;
                taxNumber: string | null;
                customerCode: string | null;
                contactPerson: string | null;
                phone: string | null;
                billingAddress: string | null;
            };
            lines: {
                id: string;
                description: string;
                accountId: string;
                departmentId: string | null;
                projectId: string | null;
                fundId: string | null;
                customerInvoiceId: string;
                quantity: import("@prisma/client/runtime/library").Decimal;
                unitPrice: import("@prisma/client/runtime/library").Decimal;
                discountPercent: import("@prisma/client/runtime/library").Decimal | null;
                discountAmount: import("@prisma/client/runtime/library").Decimal | null;
                discountTotal: import("@prisma/client/runtime/library").Decimal;
                lineTotal: import("@prisma/client/runtime/library").Decimal;
            }[];
        } & {
            id: string;
            tenantId: string;
            status: import("@prisma/client").$Enums.CustomerInvoiceStatus;
            createdAt: Date;
            taxAmount: import("@prisma/client/runtime/library").Decimal;
            invoiceNumber: string;
            invoiceDate: Date;
            dueDate: Date;
            totalAmount: import("@prisma/client/runtime/library").Decimal;
            createdById: string;
            postedAt: Date | null;
            postedById: string | null;
            reference: string | null;
            customerId: string;
            currency: string;
            exchangeRate: import("@prisma/client/runtime/library").Decimal;
            invoiceNote: string | null;
            customerNameSnapshot: string;
            customerEmailSnapshot: string | null;
            customerBillingAddressSnapshot: string | null;
            subtotal: import("@prisma/client/runtime/library").Decimal;
        };
        glJournal: {
            lines: {
                id: string;
                description: string | null;
                accountId: string;
                lineNumber: number | null;
                debit: import("@prisma/client/runtime/library").Decimal;
                credit: import("@prisma/client/runtime/library").Decimal;
                legalEntityId: string | null;
                departmentId: string | null;
                projectId: string | null;
                fundId: string | null;
                journalEntryId: string;
            }[];
        } & {
            id: string;
            tenantId: string;
            status: import("@prisma/client").$Enums.JournalStatus;
            createdAt: Date;
            description: string | null;
            createdById: string;
            approvedAt: Date | null;
            postedAt: Date | null;
            approvedById: string | null;
            postedById: string | null;
            journalNumber: number | null;
            journalType: import("@prisma/client").$Enums.JournalType;
            periodId: string | null;
            reference: string | null;
            journalDate: Date;
            correctsJournalId: string | null;
            riskScore: number;
            riskFlags: import("@prisma/client/runtime/library").JsonValue;
            riskComputedAt: Date | null;
            budgetStatus: import("@prisma/client").$Enums.JournalBudgetStatus;
            budgetFlags: import("@prisma/client/runtime/library").JsonValue | null;
            budgetCheckedAt: Date | null;
            budgetOverrideJustification: string | null;
            reversalInitiatedById: string | null;
            reversalInitiatedAt: Date | null;
            reversalPreparedById: string | null;
            submittedById: string | null;
            submittedAt: Date | null;
            reviewedById: string | null;
            reviewedAt: Date | null;
            rejectedById: string | null;
            rejectedAt: Date | null;
            rejectionReason: string | null;
            returnedByPosterId: string | null;
            returnedByPosterAt: Date | null;
            returnReason: string | null;
            reversalOfId: string | null;
            reversalReason: string | null;
        };
    }>;
    listInvoices(req: Request): Promise<({
        customer: {
            id: string;
            tenantId: string;
            email: string | null;
            name: string;
            status: import("@prisma/client").$Enums.CustomerStatus;
            createdAt: Date;
            updatedAt: Date;
            taxNumber: string | null;
            customerCode: string | null;
            contactPerson: string | null;
            phone: string | null;
            billingAddress: string | null;
        };
        lines: {
            id: string;
            description: string;
            accountId: string;
            departmentId: string | null;
            projectId: string | null;
            fundId: string | null;
            customerInvoiceId: string;
            quantity: import("@prisma/client/runtime/library").Decimal;
            unitPrice: import("@prisma/client/runtime/library").Decimal;
            discountPercent: import("@prisma/client/runtime/library").Decimal | null;
            discountAmount: import("@prisma/client/runtime/library").Decimal | null;
            discountTotal: import("@prisma/client/runtime/library").Decimal;
            lineTotal: import("@prisma/client/runtime/library").Decimal;
        }[];
    } & {
        id: string;
        tenantId: string;
        status: import("@prisma/client").$Enums.CustomerInvoiceStatus;
        createdAt: Date;
        taxAmount: import("@prisma/client/runtime/library").Decimal;
        invoiceNumber: string;
        invoiceDate: Date;
        dueDate: Date;
        totalAmount: import("@prisma/client/runtime/library").Decimal;
        createdById: string;
        postedAt: Date | null;
        postedById: string | null;
        reference: string | null;
        customerId: string;
        currency: string;
        exchangeRate: import("@prisma/client/runtime/library").Decimal;
        invoiceNote: string | null;
        customerNameSnapshot: string;
        customerEmailSnapshot: string | null;
        customerBillingAddressSnapshot: string | null;
        subtotal: import("@prisma/client/runtime/library").Decimal;
    })[]>;
    private assertInvoiceLines;
}
